inputResult="",countEditor=0,bar="",formattedElements=[],isMaximized=!1,isPopupOpen=!1,popupId=null,topDistance=0,idSpans=0,idAnchors=0,idFontFace=0,idFonts=0,date=new Date,toButtonRemoveLinkpathToLeandroEditor=null,spanToChange=null,idImage=0,enteredNow=!1,noCreatePopUp=!1,positionMouseX=0,positionMouseY=0,currentMarginTop=0,currentMarginRight=0,currentMarginBottom=0,currentMarginLeft=0,currentPaperSize=0,currentPaperOrientation="paperLandscape",idP=0;try{if(!window.jQuery){let e=document.createElement("script");e.setAttribute("id","scriptLeandroEditor"),e.setAttribute("src","https://code.jquery.com/jquery-3.4.1.min.js"),e.setAttribute("integrity","sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="),e.setAttribute("crossorigin","anonymous"),document.querySelector("head").appendChild(e)}$().modal}catch(e){let t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href","https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"),t.setAttribute("integrity","sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"),t.setAttribute("crossorigin","anonymous");let n=document.createElement("script");n.setAttribute("src","https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"),n.setAttribute("integrity","sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"),n.setAttribute("crossorigin","anonymous");let o=document.createElement("script");o.setAttribute("src","https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"),o.setAttribute("integrity","sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"),o.setAttribute("crossorigin","anonymous"),document.querySelector("head").appendChild(t),document.querySelector("head").appendChild(n),document.querySelector("head").appendChild(o)}function leandroEditor(element,pathToLeandroEditor){toButtonRemoveLinkpathToLeandroEditor=pathToLeandroEditor,pathToLeandroEditor?pathToLeandroEditor.endsWith("/")||(pathToLeandroEditor+="/"):leandroEditor(element,"/static/js/"),elementoToJquery="#"+element;let linkImportOurCSS=document.createElement("link");linkImportOurCSS.setAttribute("rel","stylesheet"),linkImportOurCSS.setAttribute("href",pathToLeandroEditor+"leandroEditor/css/leandroEditor.css"),document.querySelector("head").appendChild(linkImportOurCSS);let contentText=null;try{if(contentText=document.getElementById(element).innerText,""==contentText)throw"string null or element is a input type, example, textarea"}catch(e){contentText=document.getElementById(element).value}if(nameOfElement=element,element=document.getElementById(element),formattedElements.includes(nameOfElement))return;contentTextSplitArray=contentText.split("\n");let newContentWithParagraph="";contentTextSplitArray.forEach((e,t)=>{newContentWithParagraph+='<p id="idP'+idP+'">'+e+"</p>",idP++}),contentText=contentText.replace(/\n/g,"<br>"),element.style.display="none";let parentNodeOfElement=element.parentNode;for(i=0;i<=parentNodeOfElement.children.length;i++)if(parentNodeOfElement.children[i]==element){document.querySelectorAll(".divInputResult"),divInputResult=document.createElement("div"),divInputResult.setAttribute("class","inputResult le-justify-center"),divInputResult.setAttribute("id","inputResult"+countEditor),divInputResult.setAttribute("style","position: relative; height: auto; width: auto; color: black; background-color: white; border-radius: 5px !important;"),bar='<div id="toolbarLeandroEditor" class="d-flex justify-content-start" style="position: relative; width: 100%; height: 100%; overflow: scroll; background-color: #EBEBEB; padding-top: 2px; padding-bottom: 2px;">\n            <i class="btn btn-leandroeditor-danger ml-1 mr-1" id="closeLeandroEditor'+countEditor+'" data-id="inputResult'+countEditor+'" data-element="'+nameOfElement+'" data-toggle="tooltip" data-placement="top" title="Remove leandroEditor / Remover leandroEditor" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/close.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;"></i>\n            <i class="btn btn-leandroeditor-warning ml-1 mr-1" id="closeContentEditable'+countEditor+'" data-id="inputResult'+countEditor+'" data-toggle="tooltip" data-placement="top" title="Close Edition / Fechar Edição" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/close-edition.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;"></i>\n            <i class="btn btn-leandroeditor-success ml-1 mr-1" id="returnContentEditable'+countEditor+'" data-id="inputResult'+countEditor+'" data-toggle="tooltip" data-placement="top" title="Return to Edition / Volta com Edicação" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/return-edition.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;"></i><div style="border: 1px solid grey; height: 36px; margin: 0"></div>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" data-toggle="tooltip" data-placement="top" title="Select All/Selecionar tudo" id="btnSelectAll" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/select-all.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" data-toggle="tooltip" data-placement="top" title="Maximize/Maximizar" id="btnMaximize" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/maximize.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" data-toggle="tooltip" data-placement="top" title="Restore/Restaurar" id="btnRestore" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/restore.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;"></i><div style="border: 1px solid grey; height: 36px; margin: 0"></div>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" data-toggle="tooltip" data-placement="top" title="Copy/Copiar" id="btnCopy" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/copy.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" data-toggle="tooltip" data-placement="top" title="Cut / Recortar" id="btnCut" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/cut.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" data-toggle="tooltip" data-placement="top" title="Paste/Colar" id="btnPaste" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/paste.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;"></i><div style="border: 1px solid grey; height: 36px; margin: 0"></div>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" data-toggle="tooltip" data-placement="top" title="Undo/Desfazer" id="btnUndo" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/undo.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" data-toggle="tooltip" data-placement="top" title="Redo/Refazer" id="btnRedo" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/redo.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;"></i><div style="border: 1px solid grey; height: 36px; margin: 0"></div>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" data-toggle="tooltip" data-placement="top" title="Bold/Negrito" id="btnBold" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/bold.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" data-toggle="tooltip" data-placement="top" title="Italic/Itálico" id="btnItalic" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/italic.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1"id="btnUnderlined" data-toggle="tooltip" data-placement="top" title="Underline/Sublinhado" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/underline.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;"></i><div style="border: 1px solid grey; height: 36px; margin: 0"></div>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1"id="btnAlignLeft" data-toggle="tooltip" data-placement="top" title="Justify Left/Alinhar à esquerda" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/justify-left.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1"id="btnAlignCenter" data-toggle="tooltip" data-placement="top" title="Justify Center/Alinhar ao centro" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/justify-center.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1"id="btnAlignRight" data-toggle="tooltip" data-placement="top" title="Justify Right/Alinhar à direita" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/justify-right.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1"id="btnAlignFull" data-toggle="tooltip" data-placement="top" title="Justify Full/Justificado" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/justify.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;"></i><div style="border: 1px solid grey; height: 36px; margin: 0"></div>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1"id="btnIndent" data-toggle="tooltip" data-placement="top" title="Paragraph indent / Recuo de parágrafo" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/indent.svg\'); background-repeat: no-repeat; background-position: center; background-size: contain; height: 26px; width: 26px;" onmouseenter="(this).click()"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" id="btnInsertLink'+countEditor+'" data-toggle="tooltip" data-placement="top" title="Insert Link/Inserir Link" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/link.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;" onmouseenter="(this).click()"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" id="btnTextColor'+countEditor+'" data-toggle="tooltip" data-placement="top" title="Selected Text Color/Cor do Texto Selecionado" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/text-color.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;" onmouseenter="(this).click()"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" id="btnFontText'+countEditor+'" data-toggle="tooltip" data-placement="top" title="Selected Font Text / Fonte do Texto Selecionado" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/text-font.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;" onmouseenter="(this).click()"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" id="btnFillColor" data-toggle="tooltip" data-placement="top" title="Select the background color for the selected text / Selecione a cor de fundo para o texto selecionado" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/text-fill.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;" onmouseenter="(this).click()"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" id="btnFontSize" data-toggle="tooltip" data-placement="top" title="Font size / Tamanho da fonte" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/font-size.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;" onmouseenter="(this).click()"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" id="btnFindAndReplace" data-toggle="tooltip" data-placement="top" title="Find and Replace with or without regex / Localizar e Substituir com ou sem regex" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/replace.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;" onmouseenter="(this).click()"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" id="btnTitleOrParagraph" data-toggle="tooltip" data-placement="top" title="Title or paragraph type / Tipo de parágrafo ou título" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/paragraph.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;" onmouseenter="(this).click()"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" id="btnInsertImage" data-toggle="tooltip" data-placement="top" title="Inserir Imagem" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/image.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;" onmouseenter="(this).click()"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" id="btnInsertVideo" data-toggle="tooltip" data-placement="top" title="Inserir Vídeo" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/video.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;" onmouseenter="(this).click()"></i>\n            <i class="btn btn-leandroeditor-light ml-1 mr-1" id="btnInsertTable" data-toggle="tooltip" data-placement="top" title="Inserir Tabela" style="background-image: url(\''+pathToLeandroEditor+'leandroEditor/images/table.svg\'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;" onmouseenter="(this).click()"></i>\n        </div><hr class="mt-0" style="display: none; background-color: white">',divInputResult.innerHTML=bar+'<div contentEditable="true" id="contentEditable'+countEditor+'" style="overflow: scroll; font-size: 1rem; position: relative; height: 315px;  color: black; background-color: white" autofocus onmouseenter="createPopUp()">'+newContentWithParagraph+'</div><div style="width: 100%;"><div class="d-flex justify-content-end bg-dark text-light" id="countChars"></div><div class="d-flex justify-content-center bg-dark text-light"><a href="https://www.facebook.com/leandrocgms552310">&copy; '+(2020==date.getYear()+1900?date.getYear()+1900:"2020 - "+(date.getYear()+1900))+' Leandro Santos de Carvalho/Recupera Informática — Todos os direitos reservados</a></div><small class="d-flex justify-content-center bg-dark text-light"><p>Suporte/Contatos, Cel./Zap: (67) 98171-2803</p></small></div>',parentNodeOfElement.insertBefore(divInputResult,parentNodeOfElement.children[i]),$(divInputResult).addClass("rounded print"),inputResult=document.getElementById("inputResult"+countEditor),countEditor++,formattedElements.push(nameOfElement);let countChars=document.querySelector("div #countChars");tmpContentEditable=document.getElementById("contentEditable"+(countEditor-1)),countChars.innerHTML='<h5 style="margin: 2px;">'+(1==tmpContentEditable.innerText.length?tmpContentEditable.innerText.length+" caracter.":tmpContentEditable.innerText.length+" caracteres.")+" </h5>",tmpContentEditable.focus(),savedSelection=window.getSelection().getRangeAt(0),tmpContentEditable.addEventListener("contextmenu",e=>{e.preventDefault(),createPopUp(),"IMG"==e.target.tagName?(e.preventDefault(),currentImage=document.getElementById(e.target.id),console.log(currentImage),currentImage.click(),createPopUp(positionMouseX,positionMouseY,0,'\n                        <div class="d-flex justify-content-center">\n                            <label for="inputNewHeightImage">Nova altura (pixels)</label>\n                            <input type="number" id="inputNewHeightImage" placeholder="Nova altura" class="form-control text-center">\n                        </div>\n                        <div class="d-flex justify-content-center">\n                            <label for="inputNewWidthImage">Nova largura (pixels)</label>\n                            <input type="number" id="inputNewWidthImage" placeholder="Nova largura" class="form-control text-center">\n                        </div>\n                        <div class="d-flex justify-content-center">\n                            <button class="btn-leandroeditor" id="btnChangeImage">Modificar</button>\n                            <button class="btn btn-danger ml-1" id="btnDeleteImage">Apagar</button>\n                            <button class="btn btn-warning ml-1" id="btnClosePopUpImage">Fechar janela</button>\n                        </div>\n                        ',countEditor,e.target.id),currentImage=document.getElementById(e.target.id),document.addEventListener("click",e=>{if("btnChangeImage"==e.target.id){let e=document.getElementById("inputNewHeightImage").value,t=document.getElementById("inputNewWidthImage").value;currentImage.style.height=e+"px",currentImage.style.width=t+"px",console.log(currentImage.style.height,currentImage.style.width,e,t)}else"btnDeleteImage"==e.target.id?currentImage.remove():"btnClosePopUpImage"==e.target.id&&createPopUp()})):"A"==e.target.tagName?(e.preventDefault(),createPopUp(positionMouseX,positionMouseY,0,'<div style="background-color: #EBEBEB"><i class="btn btn-leandroeditor-light ml-1 mr-1" data-id="'+e.target.id+'" id="btnRemoveLink'+e.target.id+'" data-toggle="tooltip" data-placement="top" title="Remove Link / Remove o link selecionado" style="background-image: url(\''+toButtonRemoveLinkpathToLeandroEditor+"leandroEditor/images/unlink.svg'); background-repeat: no-repeat; background-position: center; background-size: 20pt; height: 26px; width: 26px;\"></i></div>",countEditor,e.target.id),document.getElementById("btnRemoveLink"+e.target.id).addEventListener("click",e=>{createRangeAndAdd(e.target.dataset.id,0,1);let t=document.getElementById(e.target.dataset.id);t.href="";let n=document.createTextNode(window.getSelection().toString());n.innerHTML=t.innerHTML,t.parentNode.replaceChild(n,t)}),document.getElementById("btnRemoveLink"+e.target.id).addEventListener("mouseout",e=>{e.target.style.display="none"})):(createPopUp(positionMouseX,positionMouseY,0,'\n                            <div style="color: black;" class="le-text-center">\n                                <div class="le-flex justify-content-center">\n                                    <label for="paperA4" class="le-cursor-hand destaque">A4</label>\n                                    <input type="radio" name="sizeOfPaper" value="a4" id="paperA4">&nbsp;|&nbsp;\n                                    <label for="paperCarta" class="le-cursor-hand destaque">Carta</label>\n                                    <input type="radio" name="sizeOfPaper" value="carta" id="paperCarta">&nbsp;|&nbsp;\n                                    <label for="paperOficio" class="le-cursor-hand destaque">Ofício</label>\n                                    <input type="radio" name="sizeOfPaper" value="oficio" id="paperOficio"><hr>\n                                    &nbsp;|&nbsp;<label for="paperPortrait" class="le-cursor-hand destaque">&nbsp;<img src="'+pathToLeandroEditor+'leandroEditor/images/portrait.svg" height="20pt" width="20pt">&nbsp;Retrato</label>\n                                    <input type="radio" name="paperPosition" value="portrait" id="paperPortrait" checked>&nbsp;|&nbsp;\n                                    <label for="paperLandscape" class="le-cursor-hand destaque">&nbsp;<img src="'+pathToLeandroEditor+'leandroEditor/images/landscape.svg" height="20pt" width="20pt">&nbsp;Paisagem</label>\n                                    <input type="radio" name="paperPosition" value="landscape" id="paperLandscape">\n                                    &nbsp;|&nbsp;<label for="paperDefault" class="le-cursor-hand destaque">&nbsp;<img src="'+pathToLeandroEditor+'leandroEditor/images/undo.svg" height="20pt" width="20pt">&nbsp;Padrão</label>\n                                    <input type="radio" name="paperDefault" value="default" id="paperDefault">\n                                </div>\n                                <input type="number" id="inputMarginTop" placeholder="Margem Superior (cm)" class="le-form-control le-text-center">\n                                <input type="number" id="inputMarginRight" placeholder="Margem Direita (cm)"  class="le-form-control le-text-center">\n                                <input type="number" id="inputMarginBottom" placeholder="Margem Inferior (cm)"  class="le-form-control le-text-center">\n                                <input type="number" id="inputMarginLeft" placeholder="Margem Esquerda (cm)"  class="le-form-control le-text-center">\n                                <div class="le-flex justify-content-center" style="margin-top: 5px;">\n                                    <button id="btnSetMargins" class="btn-leandroeditor">Definir</button>\n                                </div>\n                            </div>\n                        ',countEditor-1,e.target.id),"paperA4"==currentPaperSize?document.getElementById("paperA4").checked=!0:"paperCarta"==currentPaperSize?document.getElementById("paperCarta").checked=!0:"paperOficio"==currentPaperSize?document.getElementById("paperOficio").checked=!0:document.getElementById("paperDefault").checked=!0,Array.from(document.querySelectorAll('input[type="radio"]')).forEach((e,t)=>{e.addEventListener("click",e=>{"paperA4"==e.target.id||"paperCarta"==e.target.id||"paperOficio"==e.target.id||"paperPortrait"==e.target.id||"paperLandscape"==e.target.id?document.getElementById("paperDefault").checked=!1:"paperDefault"==e.target.id&&(Array.from(document.querySelectorAll("#"+popupId+' input[type="radio"]')).forEach((e,t)=>{e.checked=!1}),document.getElementById("paperDefault").checked=!0)})}),"paperPortrait"==currentPaperOrientation?document.getElementById("paperPortrait").checked=!0:"paperLandscape"==currentPaperOrientation&&(document.getElementById("paperLandscape").checked=!0),0!=currentMarginTop&&(document.getElementById("inputMarginTop").value=currentMarginTop),0!=currentMarginRight&&(document.getElementById("inputMarginRight").value=currentMarginRight),0!=currentMarginBottom&&(document.getElementById("inputMarginBottom").value=currentMarginBottom),0!=currentMarginLeft&&(document.getElementById("inputMarginLeft").value=currentMarginLeft),document.querySelector("#btnSetMargins").addEventListener("click",e=>{let paperHeight=0,paperWidth=0,radioPaperSizer=Array.from(document.getElementsByName("sizeOfPaper")).forEach((e,t)=>{e.checked&&"paperA4"==e.id?(paperHeight="297",paperWidth="210",currentPaperSize="paperA4"):e.checked&&"paperCarta"==e.id?(paperHeight="279",paperWidth="216",currentPaperSize="paperCarta"):e.checked&&"paperOficio"==e.id&&(paperHeight="356",paperWidth="216",currentPaperSize="paperOficio")}),paperPortrait=document.getElementById("paperPortrait"),paperLandscape=document.getElementById("paperLandscape"),paperDefault=document.getElementById("paperDefault"),marginTop=document.getElementById("inputMarginTop").value,marginRight=document.getElementById("inputMarginRight").value,marginBottom=document.getElementById("inputMarginBottom").value,marginLeft=document.getElementById("inputMarginLeft").value;if(0!=marginTop&&(currentMarginTop=marginTop),0!=marginRight&&(currentMarginRight=marginRight),0!=marginBottom&&(currentMarginBottom=marginBottom),0!=marginLeft&&(currentMarginLeft=marginLeft),tmpContentEditable.style.paddingTop=marginTop+"cm",tmpContentEditable.style.paddingRight=marginRight+"cm",tmpContentEditable.style.paddingBottom=marginBottom+"cm",tmpContentEditable.style.paddingLeft=marginLeft+"cm",0!=paperWidth&&0!=paperHeight){if(paperDefault.checked)return isMaximized?(tmpContentEditable.parentNode.style.width="100%",tmpContentEditable.parentNode.style.paddingLeft="2px",tmpContentEditable.parentNode.style.paddingRight="2px",tmpContentEditable.style.height="100%",tmpContentEditable.style.width="100%",tmpContentEditable.style.marginLeft="0",tmpContentEditable.parentNode.children[0].style.width="100%",void(tmpContentEditable.parentNode.children[3].style.width="100%")):(tmpContentEditable.style.height="315px",tmpContentEditable.style.marginLeft="0",tmpContentEditable.parentNode.style.width="100%",tmpContentEditable.parentNode.style.paddingLeft="2px",tmpContentEditable.parentNode.style.paddingRight="2px",tmpContentEditable.style.width="100%",tmpContentEditable.parentNode.children[0].style.width="100%",void(tmpContentEditable.parentNode.children[3].style.width="100%"));if(paperLandscape.checked){let e=paperHeight;paperHeight=paperWidth,paperWidth=e,currentPaperOrientation="paperLandscape"}else paperPortrait.checked&&(currentPaperOrientation="paperPortrait");tmpContentEditable.style.height=paperHeight+"mm",tmpContentEditable.style.width=paperWidth+"mm",console.log(tmpContentEditable.parentNode.style.width),tmpContentEditable.parentNode.children[0].style.width=eval(paperWidth)+2+"mm",tmpContentEditable.parentNode.children[3].style.width=eval(paperWidth)+2+"mm",tmpContentEditable.parentNode.style.width=eval(paperWidth)+2.5+"mm"}console.log(tmpContentEditable.style.margin,tmpContentEditable.style.height,tmpContentEditable.style.width)}))}),window.addEventListener("mousemove",e=>{positionMouseX=e.x,positionMouseY=e.y}),document.addEventListener("input",e=>{if(e.target.id.includes("contentEditable")){let t=document.querySelector("div #countChars"),n=e.target.innerText.length;t.innerHTML='<h5 style="margin: 2px;">'+(1==n?n+" caracter.":n+" caracteres.")+"</h5>"}}),tmpContentEditable.addEventListener("click",e=>{"P"==e.target.tagName&&console.log("cliquei sobre um elemento P e seu id é "+e.target.id)}),tmpContentEditable.addEventListener("keypress",e=>{if(console.log(e.keyCode),"9"==e.keyCode);else if("13"==e.keyCode){let e=new RegExp("<p(.*?)>","ig");setTimeout(()=>{console.log(tmpContentEditable.innerHTML.match(e))},500)}}),tmpContentEditable.addEventListener("contextmenu",e=>{e.preventDefault()});break}allElementsI=Array.from(document.querySelectorAll("#toolbarLeandroEditor i")),tmpContentEditable.parentNode.children[0].style.marginTop="5px",tmpContentEditable.parentNode.children[0].style.marginBottom="5px",tmpContentEditable.parentNode.children[2].style.margin="5px",tmpContentEditable.parentNode.children[2].style.marginTop="",tmpContentEditable.parentNode.children[2].style.border="1px solid black",allElementsI.forEach((e,t)=>{e.style.height="34px",e.style.width="60px"})}function mainFirst(e){let parentNodeOfElement=e.target.parentNode;if(datasetId=e.target.dataset.id,dataNameElementOriginal=e.target.dataset.element,contentEditable=e.target.parentNode.parentNode.children[2],datasetId&&dataNameElementOriginal){let e=document.getElementById(datasetId),t=document.getElementById(dataNameElementOriginal),n=e.attributes;"input"in n&&"textarea"in n?t.innerHTML=contentEditable.innerHTML:t.value=contentEditable.innerHTML,t.style.display="block",indexOfFormattedElements=formattedElements.indexOf(dataNameElementOriginal),formattedElements[indexOfFormattedElements]="",e.remove()}textSelected=window.getSelection().toString();let id=e.target.id;if(contentEditable.focus(),!id)return;let idArray=id.split("");if(navigator.permissions.query({name:"clipboard-read",name:"clipboard-write"}).then(e=>{e.onchange=(()=>{})}),isPopupOpen&&"btnInsertImage"!=id&&"radioFile"!=id&&"radioURL"!=id&&createPopUp(),id=="closeContentEditable"+idArray[idArray.length-1])contentEditable.setAttribute("contentEditable","false");else if(id=="returnContentEditable"+idArray[idArray.length-1])contentEditable.setAttribute("contentEditable","true"),contentEditable.focus();else{if("btnSelectAll"==id)return contentEditable.setAttribute("contentEditable","true"),void document.execCommand("selectAll");if("btnCopy"==id)document.execCommand("copy");else if("btnCut"==id)document.execCommand("cut");else if("btnPaste"==id)navigator.clipboard.readText().then(e=>document.execCommand("insertText",!0,e));else if("btnUndo"==id)document.execCommand("undo");else if("btnRedo"==id)document.execCommand("redo");else if("btnBold"==id)document.execCommand("bold");else if("btnItalic"==id)document.execCommand("italic");else if("btnUnderlined"==id)document.execCommand("underline");else if("btnAlignLeft"==id)document.execCommand("justifyLeft");else if("btnAlignCenter"==id)document.execCommand("justifyCenter");else if("btnAlignRight"==id)document.execCommand("justifyRight");else if("btnAlignFull"==id)document.execCommand("justifyFull");else if(id=="btnInsertLink"+idArray[idArray.length-1]){if(createPopUp(e.target.getBoundingClientRect().left,e.target.getBoundingClientRect().top,e.target.offsetHeight,'<input name="link" id="inputLink'+countEditor+'" placeholder="Informe o Link/Enter the link" class="le-form-control" value="https://">\n        <div class="d-flex justify-content-center mt-1"><button id="btnActionInsertLink'+countEditor+'" class="btn btn-dark">Insert Link / Inserir Link</button></div>',countEditor,id),!isPopupOpen)return;document.getElementById("inputLink"+countEditor).focus();let t=document.getElementById("btnActionInsertLink"+countEditor);t.addEventListener("click",e=>{e.stopPropagation();let t=e.target.parentNode.parentNode.children[0].value;""!=textSelected&&(removeAndAddSavedSelection(),idAnchors++,document.execCommand("createLink",!0,"idAnchors"+idAnchors+t),contentEditable.innerHTML=contentEditable.innerHTML.replace(new RegExp('<a href="idAnchors'+idAnchors+t+'">',"ig"),'<a id="idAnchors'+idAnchors+'" href="'+t+'" target="_blank" data-toggle="tooltip" data-html="true" title="Clique direito, opção para remover.">'),createRangeAndAdd("idAnchors"+idAnchors,0,1))})}else if(id=="btnTextColor"+idArray[idArray.length-1]){if(createPopUp(e.target.getBoundingClientRect().left,e.target.getBoundingClientRect().top,e.target.offsetHeight,'<input type="color" id="inputColor'+countEditor+'" class="le-form-control" style="width: 70px; cursor: pointer;">',countEditor,id),!isPopupOpen)return;let t=document.getElementById("inputColor"+countEditor);t.addEventListener("change",e=>{e.stopPropagation(),removeAndAddSavedSelection(),document.execCommand("foreColor",!0,e.target.value),createPopUp()})}else if(id=="btnFontText"+idArray[idArray.length-1]){let t=["Times New Roman","Dejavu Sans Mono","Arial","Times","Verdana","Georgia","Comic Sans MS","Trebuchet MS","Impact","Liberation Mono","Courier New","Arial Black","Dejavu Serif","Ubuntu","Bitstream Charter","Century Schoolbook","FreeSerif","Liberation Sans","Liberation Serif","Helvetica"],n="";if(idFonts=0,t.sort().forEach((e,t)=>{n+='<font face="'+e+'" id="idFonts'+idFonts+'">'+e+"</font><hr>",idFonts++}),createPopUp(e.target.getBoundingClientRect().left,e.target.getBoundingClientRect().top,e.target.offsetHeight,'<div id="selectFont'+countEditor+'" class="le-form-control" style="cursor: pointer; background-color: #EBEBEB; height: '+contentEditable.style.height+'; overflow: scroll;">\n        '+n+"\n    </div>",countEditor,id),!isPopupOpen)return;t.forEach((e,t)=>{document.getElementById("idFonts"+t).addEventListener("click",e=>{e.stopPropagation(),removeAndAddSavedSelection();window.getSelection().getRangeAt(0).cloneContents();document.execCommand("fontName",!0,e.target.innerText),createPopUp()})})}else if("btnMaximize"==id)document.getElementById(popupId)&&(document.getElementById(popupId).remove(),isPopupOpen=!1),isMaximized||(backupOfBody=document.querySelector("body").innerHTML,idBackupContentBeforeRestored=contentEditable.id,document.querySelector("body").style.height="100vh",document.querySelector("body").innerHTML='<div style="position:relative; height: 100%; color: black; background-color: white;">'+contentEditable.parentNode.innerHTML.replace("405px","100%").replace("315px","90%")+"</div>",console.log(document.getElementById(id).parentNode.parentNode.children[2].id),document.getElementById(id).parentNode.parentNode.children[1].style.height="",document.getElementById(id).parentNode.parentNode.children[2].style.height="100%"),isMaximized=!0;else if("btnRestore"==id){if(document.getElementById(popupId)&&(document.getElementById(popupId).remove(),isPopupOpen=!1),isMaximized){document.querySelector("body").innerHTML=backupOfBody;let e=document.getElementById(idBackupContentBeforeRestored);e.innerHTML=contentEditable.innerHTML,isMaximized=!1}}else if("btnFillColor"==id){if(createPopUp(e.target.getBoundingClientRect().left,e.target.getBoundingClientRect().top,e.target.offsetHeight,'<input type="color" id="inputColorBackground'+countEditor+'" class="le-form-control" style="width: 70px; cursor: pointer;">',countEditor,id),!isPopupOpen)return;let t=document.getElementById("inputColorBackground"+countEditor);t.addEventListener("change",e=>{e.stopPropagation(),removeAndAddSavedSelection(),document.execCommand("backColor",!0,e.target.value),createPopUp()})}else if("btnFontSize"==id){let t='<option value="sdasda" disabled>Choice/Escolha</option>';for(let e=2;e<=100;e++)t+='<option value="'+e+'">'+e+"</option><hr>";if(createPopUp(e.target.getBoundingClientRect().left,e.target.getBoundingClientRect().top,e.target.offsetHeight,'<select id="inputSelectFontSize'+countEditor+'" data-value="" class="le-form-control" style="width: 70px; height: auto; cursor: pointer; color: black; background-color: white; overflow: scroll;">\n        '+t+"\n        </select>",countEditor,id),!isPopupOpen)return;let n=document.getElementById("inputSelectFontSize"+countEditor);n.addEventListener("change",e=>{if(e.stopPropagation(),spanToChange)spanToChange.innerText==window.getSelection().toString()&&(spanToChange.style.fontSize=e.target.value+"pt",createRangeAndAdd(spanToChange.id,0,1));else{removeAndAddSavedSelection();let t=window.getSelection().toString(),n=window.getSelection().getRangeAt(0);n.endContainer.nodeValue,n.startOffset>0?n.startOffset:n.startOffset;insertInNodeValue("idSpans"+idSpans),replaceRegexAndInsertElement("idSpans"+idSpans+t,'<span id="idSpans'+idSpans+'" style="font-size: '+e.target.value+'pt;">'+t+"</span>"),createRangeAndAdd("idSpans"+idSpans,0,1),spanToChange=document.getElementById("idSpans"+idSpans),++idSpans}})}else if("btnFindAndReplace"==id){if(createPopUp(e.target.getBoundingClientRect().left,e.target.getBoundingClientRect().top,e.target.offsetHeight,'<div style=" height: '+contentEditable.style.height+'; overflow: scroll;"><label class="text-dark" for="inputCheckRegex'+countEditor+'">Leave checked to use regex / Deixe marcado para usar regex</label><input type="checkbox" checked id="inputCheckRegex'+countEditor+'" class="le-form-control" style="width: 70px; cursor: pointer;"><label class="text-dark" for="inputTextRegex'+countEditor+'">Enter the expression or simple text to be replaced. / Informe a expressão ou texto simples a ser subsituído.</label><input value="'+window.getSelection().toString()+'" type="text" id="inputTextRegex'+countEditor+'" class="le-form-control"><label for="inputNewExpression'+countEditor+'" class="text-dark">Enter the new text. It can even be empty. / Informe o novo texto. Pode ser vazio inclusive.</label><input type="text" id="inputNewExpression'+countEditor+'" class="le-form-control"><div class="d-flex justify-content-center"><button id="btnFindAndReplace'+countEditor+'" class="btn btn" style="background-color: #6D9ED1;">Find and Replace / Localizar e Substituir</button></div></div>',countEditor,id),!isPopupOpen)return;let t=document.getElementById("btnFindAndReplace"+countEditor);t.addEventListener("click",e=>{e.stopPropagation();let t=e.target.parentNode.parentNode.children[3].value,n=e.target.parentNode.parentNode.children[5].value,o=new RegExp(t,"g");e.target.parentNode.parentNode.children[1].checked?contentEditable.innerHTML=contentEditable.innerHTML.replace(o,n):contentEditable.innerHTML=contentEditable.innerHTML.replace(t,n),createPopUp()})}else if("btnTitleOrParagraph"==id){if(createPopUp(e.target.getBoundingClientRect().left,e.target.getBoundingClientRect().top,e.target.offsetHeight,'<div id="selectTitleOrParagraph'+countEditor+'" style="cursor: pointer; color: black; background-color: #EBEBEB; height: '+contentEditable.style.height+'; overflow: scroll;">\n        <h1>Título 1</h1><hr>\n        <h2>Título 2</h2><hr>\n        <h3>Título 3</h3><hr>\n        <h4>Título 4</h4><hr>\n        <h5>Título 5</h5><hr>\n        <h6>Título 6</h6><hr>\n        <p>Normal (com espaços entre parágrafos)</p><hr>\n        <p style="margin: 0; padding: 0;">Todo o texto sem espaços entre parágrafos</p><hr>\n        <p style="margin: 0; padding: 0;">Seleção sem espaçamento entre parágrafos</p><hr>\n        <sub>Subscrito</sub><hr>\n        <sup>Superscrito</sup><hr>\n        <pre>Code / Código</pre>\n    </div>',countEditor,id),!isPopupOpen)return;let selectTitleOrParagraph=document.getElementById("selectTitleOrParagraph"+countEditor);selectTitleOrParagraph.addEventListener("click",e=>{e.stopPropagation();let text=e.target.innerText;if(contentEditable.focus(),window.getSelection().toString()&&removeAndAddSavedSelection(),"Título 1"==text)removeAndAddSavedSelection(),document.execCommand("formatBlock",!0,"<h1>");else if("Título 2"==text)removeAndAddSavedSelection(),document.execCommand("formatBlock",!0,"<h2>");else if("Título 3"==text)removeAndAddSavedSelection(),document.execCommand("formatBlock",!0,"<h3>");else if("Título 4"==text)removeAndAddSavedSelection(),document.execCommand("formatBlock",!0,"<h4>");else if("Título 5"==text)removeAndAddSavedSelection(),document.execCommand("formatBlock",!0,"<h5>");else if("Título 6"==text)removeAndAddSavedSelection(),document.execCommand("formatBlock",!0,"<h6>");else if("Normal (com espaços entre parágrafos)"==text)Array.from(contentEditable.querySelectorAll("p")).forEach((e,t)=>{e.style.marginTop="",e.style.marginBottom=""});else if("Todo o texto sem espaços entre parágrafos"==text)Array.from(contentEditable.querySelectorAll("p")).forEach((e,t)=>{e.style.marginTop="0",e.style.marginBottom="0"});else if("Seleção sem espaçamento entre parágrafos"==text){let re1=eval('/xmlns="(.*?)"/ig'),re2=eval('/style="(.*?)"/ig'),xmlserializer=new XMLSerializer;removeAndAddSavedSelection();let selectionInHTML=xmlserializer.serializeToString(window.getSelection().getRangeAt(0).cloneContents());selectionInHTML=selectionInHTML.replace(re1,""),selectionInHTML=selectionInHTML.replace(re2,'style="margin: 0;"'),removeAndAddSavedSelection(),document.execCommand("insertHTML",!0,selectionInHTML)}else"Code / Código"==text?(removeAndAddSavedSelection(),document.execCommand("formatBlock",!0,"<pre>")):"Subscrito"==text?(removeAndAddSavedSelection(),document.execCommand("subscript")):"Superscrito"==text&&(removeAndAddSavedSelection(),document.execCommand("superscript"));createPopUp()})}else if("btnIndent"==id){createPopUp(e.target.getBoundingClientRect().left,e.target.getBoundingClientRect().top,e.target.offsetHeight,'<div id="divIndent'+countEditor+'" style="cursor: pointer; color: black; background-color: #EBEBEB;"><input type="number" id="indentationSizeField'+countEditor+'" style="width: 300px;" placeholder="Informe o tamanho do recuo em cm.">\n        <div class="d-flex justify-content-center mt-1">\n            <button class="btn btn-dark" id="btnRecuar'+countEditor+'">Recuar</button>\n        </div>\n        </div>',countEditor,id);let t=document.getElementById("btnRecuar"+countEditor);t.addEventListener("click",e=>{idSpans++,removeAndAddSavedSelection();let t=document.getElementById("indentationSizeField"+countEditor).value+"cm";Array.from(contentEditable.querySelectorAll("p")).forEach((e,n)=>{e.style.marginLeft=t})})}else if("btnInsertImage"==id){createPopUp(),console.log("entrou no clique do btnInserImage"),createPopUp(e.target.getBoundingClientRect().left,e.target.getBoundingClientRect().top,e.target.offsetHeight,'\n        <div id="divInsertImage" style="cursor: pointer; color: black; background-color: #EBEBEB;">\n            <label for="inputFileImage">Selecionar arquivo.</label>\n            <input type="file" id="inputFileImage" class="le-form-control"><hr>\n            <label for="inputURLImage">Ou informe URL da imagem.</label>\n            <input type="url" id="inputURLImage" class="le-form-control">\n            <div class="d-flex justify-content-center mt-1">\n                <button id="btnLoadAndCreateImage" class="btn-leandroeditor">Inserir Imagem</button>\n            </div>\n        </div>',countEditor,id);let t=document.getElementById("inputFileImage"),n=null;document.getElementById("btnLoadAndCreateImage").addEventListener("click",async e=>{let o=document.getElementById("inputURLImage");if(console.log(t.files,t),t.files.length>0){const e=e=>new Promise((t,n)=>{const o=new FileReader;o.readAsDataURL(e),o.onload=(()=>t(o.result)),o.onerror=(e=>n(e))});!async function(){const o=t.files[0];console.log(t.files[0]),console.log(await e(o)),n=await e(o),console.log(n),insertInNodeValue("idImage"+idImage),console.log(window.getSelection().getRangeAt(0).endContainer.nodeValue),replaceRegexAndInsertElement("idImage"+idImage,'<img src="'+n+'" id="idImage'+idImage+'" style="height: 200px; width: 300px;">'),createRangeAndAdd("idImage"+idImage,0,0),idImage++,console.log(document.getElementById("idImage"+(idImage-1))),console.log(idImage-1)}()}else 0==t.files.length&&""==o.value?alert("Para poder inserir uma imagem, um dos dois campos precisam ser utilizados pelo menos. Selecione uma imagem válida ou informe o endereço."):console.log("vai ser inserida imagem usando endereço dela e não um arquivo de imagem: "+o.value)})}}}function insertInNodeValue(e){let t;try{t=window.getSelection().getRangeAt(0)}catch(e){t=savedSelection}let n=t.startOffset,o=(t.endOffset,t.endContainer.nodeValue);if(null==o)document.execCommand("insertHTML",!0,e);else{console.log("dentro do else dentro do insertInNodeValue");let t=o.split("");console.log(t[n-1]),null!=t[n-1]?t[n]?t[n]=e+t[n]:t[n]=e:t[n]=e+t[n],window.getSelection().getRangeAt(0).endContainer.nodeValue=t.join("")}}function replaceRegexAndInsertElement(regex,elementOrSubstitute){regex=eval("/"+regex+"/ig"),contentEditable.innerHTML=contentEditable.innerHTML.replace(regex,elementOrSubstitute)}function createPopUp(e,t,n,o,i,a){if(!noCreatePopUp){if(console.log("entrou no createPopUp()"),isPopupOpen)return document.getElementById(popupId).remove(),isPopupOpen=!1,void removeAndAddSavedSelection();e?(divPopup=document.createElement("div"),divPopup.setAttribute("id","popup"+i),divPopup.setAttribute("data-buttonId",a),divPopup.style.top=topDistance+t+-1+n+"px",divPopup.style.left=e+"px",divPopup.style.left=e+"px",divPopup.style.border="1px solid black",divPopup.style.borderRadius="5px",divPopup.style.position="absolute",divPopup.style.zindex=50,divPopup.style.backgroundColor="#EBEBEB",divPopup.style.color="black",divPopup.style.padding="5px",divPopup.innerHTML=o,document.querySelector("body").appendChild(divPopup),popupId="popup"+i,isPopupOpen=!0,document.getElementById("popup"+i).addEventListener("contextmenu",e=>{e.preventDefault(),createPopUp()})):removeAndAddSavedSelection()}}function changePopUp(e,t){document.getElementById(e).children[0].innerHTML=t}function removeAndAddSavedSelection(){try{return window.getSelection().removeAllRanges(),window.getSelection().addRange(savedSelection),!0}catch(e){return console.log("Erro dentro da função removeAndAddSavedSelection. Erro -> "+e,e.message,e.name,e.stack),!1}}function createRangeAndAdd(e,t,n){try{createPopUp(),removeAndAddSavedSelection(),address=document.getElementById(e),novoRange=document.createRange(),novoRange.setStart(address,t),novoRange.setEnd(address,n),savedSelection=novoRange,removeAndAddSavedSelection()}catch(e){console.log("Ocorreu erro ao tentar gerar Range após criar novo elemento html. Erro -> "+e,e.message,e.name,e.stack)}}window.onload=(()=>{function e(){let e,t,n,o=document.getElementById(popupId),i=o.dataset.buttonid,a=document.getElementById(i);e=a.getBoundingClientRect().top,t=a.style.height,n=a.getBoundingClientRect().left,o.style.top=topDistance+e+1+t+"px",o.style.left=n+"px"}$("body").append('<button class="btn-leandroeditor">Oi, isto é um teste</button>'),elementsWithClassLeandroEditor=Array.from(document.getElementsByClassName("leandro-editor")),elementsWithClassLeandroEditor.length>0&&elementsWithClassLeandroEditor.forEach((e,t)=>{leandroEditor(e.id)}),window.addEventListener("scroll",t=>{topDistance=t.target.scrollingElement.scrollTop,isPopupOpen&&e()}),window.addEventListener("click",e=>{null!=e.target.parentNode&&("SPAN"==e.target.tagName?spanToChange=document.getElementById(e.target.id):"SPAN"!=e.target.tagName&&"toolbarLeandroEditor"!=e.target.parentNode.id&&"SELECT"!=e.target.tagName&&"INPUT"!=e.target.tagName&&"BUTTON"!=e.target.tagName&&(spanToChange=null,savedSelection=window.getSelection().getRangeAt(0)),"toolbarLeandroEditor"==e.target.parentNode.id&&mainFirst(e))}),window.addEventListener("touchend",e=>{null!=e.target.parentNode&&("SPAN"==e.target.tagName?spanToChange=document.getElementById(e.target.id):"SPAN"!=e.target.tagName&&"toolbarLeandroEditor"!=e.target.parentNode.id&&"SELECT"!=e.target.tagName&&"INPUT"!=e.target.tagName&&"BUTTON"!=e.target.tagName&&(spanToChange=null,savedSelection=window.getSelection().getRangeAt(0)),"toolbarLeandroEditor"==e.target.parentNode.id&&mainFirst(e))}),window.addEventListener("resize",t=>{isPopupOpen&&e()})});